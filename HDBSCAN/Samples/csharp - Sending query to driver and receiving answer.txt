Sending query to driver and receiving answer
I have a system which uses a SNMP library and several devices to control which are connected to a remote computer. To simplify, there is a master computer which sends SNMP requests, there is an agent computer which takes these requests, looks into oid of request, talks with device using serial communication and returns answer to master. My problem is with writing to serial port and then reading the answer. Normally, a simple program writes to serial port and reads device's response from another thread. Since my project requires SNMP communication, I cannot use second thread to read answer because it will most likely result in timeout. I can provide more details regarding design if any would be helpful. At this point, I don't know how to proceed, how can I write to port and and immediately wait for the response. Is there any other way that I can implement? I have started from the example in MSDN like this, maybe my starting point is wrong? Any help would be appreciated.  submitted by /u/aaronedam [link] [comments] 