Load Testing SignalR
Hi all, I'm not sure if this is the right place for this as it isnt necessarily C# specific but that is the world I'm in so it kind of makes sense. I've been pulling my hair out about this all day and I'm just getting mentally drained with it. What I want to do sounds so simple. I have a website that you login and then from there on out it opens a signalR connection saying is cares about a particular bit of data and would like to be notified of updates to it. We then use signalR to tell the client to fetch data when it is updated. That signal R connection request needs to have cookies sent with it as that is how we do our authentication. I hope I'm making sense so far because I'll be honest I didn't implement this and my knowledge is sketchy. All of this works all I want to do is load test it. I want to see how many clients this can deal with. Crank is giving me loads of errors about not excepting query strings and even when I made some minor changes to the code for it to take them I'm getting the same error Connection.Start Failed: Newtonsoft.Json.JsonReaderException: Unexpected character encountered while parsing value: ?. Path '', line 0, position 0. I've tried use Web performance testing in visual studio but that doesnt understand websockets and tries to change 'wss://' in the rul of the requests to 'http' and when I force it to sent wss:// it doesnt know what that means. Also the web performance tests just play out the http request that it made while recording. What I want is Crank to work or the ability to automate (in the thousands) actual web broswers going to my page. I've tried googling and stack overflowing but I'm not coming up with much. So any help or direction that anyone can give me please speak up, I will be forever grateful. Also just one thing, I'm under some time constraints so re-architecting how its built inst going to be possible Edit: I beleive this is using persistent connections  submitted by /u/insulind [link] [comments] 